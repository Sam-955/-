<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
   <h3 onload="alert(Date())"> 闭包的一般应用例子</h3>
   <script>
       function funA(){
           var a= 10
           return function (){
               alert(a)
               a+=a
           }
       }
       var b= funA()
       b();
       funA()()
   </script>

</body>
</html>
<!--
 1. 闭包（函数里面写函数）找到的是同一地址中父级函数中对应变量最终的值
 2. 优缺点
     1. 让外部访问函数的内部变量成为可能；
     2. 函数内的局部变量会一直占着内存中
     3. 由于一直占着内存可能会导致内存泄露
     4. 使用局部变量可以避免使用全局变量，防止全局变量被污染
 3. 闭包的生命周期
     产生：在嵌套的内部函数定义执行完成时就产生了
     死亡：在嵌套的内部函数成为垃圾对象时
     function f1(){
        //此时就已经产生闭包（因为函数提升）
       var b=2;
       function fn(){
           b++;
           console.log(b);
       }
       return fn;
    };
    var f=f1();
    f();
    f=null//闭包消失，因为内部函数成为了垃圾对象（没有变量在引用它）